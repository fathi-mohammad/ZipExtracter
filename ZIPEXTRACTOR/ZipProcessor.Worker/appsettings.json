{

  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=zipdb;User ID=zipuser;Password=zippass;AllowPublicKeyRetrieval=True;",
    "ProcedureDbConnection": "Server=localhost;Database=zipdb_test;User=ziptestuser;Password=ziptestpass;AllowPublicKeyRetrieval=True;"

  },
  "ApiSettings": {
    "BaseUrl": "http://localhost:5000/api/process",
    "WorkerUrl": "http://0.0.0.0:8080"
  },
  // "ClientDBType": "sql", // sql or mysql
  "WorkerSettings": {
    "BatchSize": 2,
    "MaxParallel": 2,
    "DelayMilliseconds": 2000

  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "System": "Warning"
    }
  }
}


// POWERSHELL COMMANDS
// START ARGUMENTS

//ZipProcessor.Worker.exe --ApiSettings:BaseUrl=http://localhost:5000/api/process --ApiSettings:WorkerUrl=http://0.0.0.0:8080 --WorkerSettings:BatchSize=5  --WorkerSettings:MaxParallel=3 --WorkerSettings:DelayMilliseconds=3000
//API   TESTING
//HEALTH CHECK
//curl http://localhost:8080/health
//STATUS CHECK
//  curl http://localhost:8080/control/status
//PAUSE PROCESSING
// curl.exe -X POST http://localhost:8080/control/pause
//RESUME PROCESSING
// curl.exe -X POST http://localhost:8080/control/resume

//UPDATE WORKER SETTINGS
// Invoke-WebRequest -Uri "http://localhost:8080/control/update" -Method POST -Headers @{ "Content-Type" = "application/json" } -Body '{"ApiBaseUrl":"http://localhost:6000/api/process","BatchSize":10,"MaxParallel":4,"DelayMilliseconds":10000}'

// GET CURRENT WORKER SETTINGS
// curl.exe http://localhost:8080/control/current

// DOCKER
// CREATE IMAGE
//  docker build -t myzipworker:latest .  

// RUN CONTAINER
// docker run -d --name zipworker  -p 8080:8080 -e ConnectionStrings__DefaultConnection="Server=host.docker.internal;Database=zipdb;User ID=zipuser;Password=zippass;AllowPublicKeyRetrieval=True;"  -e ConnectionStrings__ProcedureDbConnection="Server=host.docker.internal;Database=zipdb_test;User=ziptestuser;Password=ziptestpass;AllowPublicKeyRetrieval=True;"  -e ApiSettings__BaseUrl=http://host.docker.internal:5000/api/process  -e ApiSettings__WorkerUrl=http://0.0.0.0:8080  -e WorkerSettings__BatchSize=5  -e WorkerSettings__MaxParallel=2 -e WorkerSettings__DelayMilliseconds=3000 myzipworker:latest
 // --network zipnet
// VERIFY THE CONNECTION STRING OF DOCKER
//   docker exec -it zipworker /bin/bash
//  printenv | grep ConnectionStrings


